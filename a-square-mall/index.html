<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Square Mall | Nairobi's Premier Urban Sanctuary for Luxury & Lifestyle</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Welcome to A Square Mall, an architectural marvel and Kenya's ultimate sanctuary for urban shopping, world-class dining, and transcendent entertainment. Immerse yourself in a world of luxury.">
    <meta name="keywords" content="A Square Mall, luxury shopping Kenya, Nairobi mall, fine dining Nairobi, fashion destination, urban lifestyle, entertainment Kenya">
    <meta name="author" content="A Square Mall">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.asquaremall.co.ke/">
    <meta property="og:title" content="A Square Mall | Nairobi's Premier Urban Sanctuary for Luxury & Lifestyle">
    <meta property="og:description" content="Experience an unparalleled fusion of elegance, culture, and commerce. A Square Mall is not just a destination; it's a lifestyle.">
    <meta property="og:image" content="https://placehold.co/1200x630/004080/f5af19?text=A+Square+Mall">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.asquaremall.co.ke/">
    <meta property="twitter:title" content="A Square Mall | Nairobi's Premier Urban Sanctuary for Luxury & Lifestyle">
    <meta property="twitter:description" content="Experience an unparalleled fusion of elegance, culture, and commerce. A Square Mall is not just a destination; it's a lifestyle.">
    <meta property="twitter:image" content="https://placehold.co/1200x630/004080/f5af19?text=A+Square+Mall">

    <!-- Favicon -->
    <link rel="icon" href="https://placehold.co/32x32/f5af19/004080?text=A" type="image/png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {},
            },
        }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://css.gg/css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Alpine.js for lightweight interactivity -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- GSAP (GreenSock Animation Platform) & ScrollTrigger Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    
    <style>
        /* Dark mode styles */
        .dark body { background-color: #111827; color: #e5e7eb; }
        .dark .bg-white { background-color: #1f2937; }
        .dark .bg-gray-50 { background-color: #111827; }
        .dark .bg-gray-100 { background-color: #1f2937; }
        .dark .text-brand-blue { color: #ffffff; }
        .dark .text-gray-600 { color: #9ca3af; }
        .dark .text-gray-700 { color: #d1d5db; }
        .dark .shadow-lg { box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }
        .dark .timeline-item:not(:last-child) { border-color: #374151; }
        .dark .timeline-dot { background-color: #1f2937; }
        .dark .social-feed-col .bg-gray-100 { background-color: #374151; }

        /* Brand colors */
        .bg-brand-blue { background-color: #004080; }
        .text-brand-blue { color: #004080; }
        .bg-brand-gold { background-color: #f5af19; }
        .text-brand-gold { color: #f5af19; }
        .border-brand-gold { border-color: #f5af19; }

        /* Hero section */
        .hero-overlay::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0, 32, 64, 0.6), rgba(0, 32, 64, 0.3));
            z-index: 1;
        }
        .hero-content { position: relative; z-index: 2; }
        .hero-title-char { display: inline-block; }
        
        /* Video background styles */
        .hero-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
            /* Smooth playback and better contrast */
            filter: brightness(0.6) contrast(1.1);
        }
        
        /* Ensure all hero content is above video */
        .hero-content,
        .absolute.top-24,
        .absolute.bottom-8 {
            position: relative;
            z-index: 10;
        }
        
        /* Fallback background for video */
        .hero-bg {
            background-image: url('https://images.unsplash.com/photo-1579737920839-a9a35a822b31?q=80&w=2071&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        
        /* Enhanced video overlay for mobile devices */
        @media (max-width: 768px) {
            .hero-video {
                /* On mobile, prioritize performance */
                filter: brightness(0.5) contrast(1.2);
            }
        }

        /* Timeline */
        .timeline-item { position: relative; padding-left: 3rem; }
        .timeline-item:not(:last-child) { padding-bottom: 4rem; border-left: 2px solid #e5e7eb; }
        .timeline-dot { position: absolute; left: -10px; top: 0; height: 20px; width: 20px; border-radius: 50%; background-color: white; border: 4px solid #f5af19; }
        
        /* Countdown */
        .countdown-box { background: rgba(0, 64, 128, 0.8); border: 1px solid #f5af19; }
        .countdown-number { font-size: clamp(2rem, 10vw, 4rem); }

        /* Page Transition Overlay */
        #page-transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #004080;
        }
        #transition-logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: #f5af19;
            letter-spacing: 0.05em;
        }
        
        /* Hero section background */
        .hero-bg {
            background-image: url('https://images.unsplash.com/photo-1579737920839-a9a35a822b31?q=80&w=2071&auto=format&fit=crop');
        }
        
        /* Floating particles */
        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        .floating-particles::before,
        .floating-particles::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            background: rgba(245, 175, 25, 0.3);
            border-radius: 50%;
            animation: float 15s infinite ease-in-out;
        }
        .floating-particles::before {
            top: 20%;
            left: 20%;
            animation-delay: 0s;
        }
        .floating-particles::after {
            top: 60%;
            right: 30%;
            animation-delay: 7s;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) translateX(0px) scale(1); opacity: 0.3; }
            25% { transform: translateY(-20px) translateX(10px) scale(1.1); opacity: 0.7; }
            50% { transform: translateY(-40px) translateX(-5px) scale(0.9); opacity: 0.5; }
            75% { transform: translateY(-30px) translateX(15px) scale(1.2); opacity: 0.8; }
        }
        
        /* Typewriter effect */
        .typewriter-cursor {
            animation: blink 1s infinite;
        }
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        /* Counter animation */
        .counter {
            transition: all 0.3s ease;
        }
        
        /* Enhanced social ticker */
        #social-ticker {
            animation: tickerSlide 10s infinite linear;
        }
        @keyframes tickerSlide {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        
        /* Interactive Map SVG Animation */
        .map-pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(0.95); opacity: 0.7; }
            70% { transform: scale(1.4); opacity: 0; }
            100% { transform: scale(0.95); opacity: 0; }
        }
        
        /* Background Images */
        .countdown-bg {
            background-image: url('https://images.unsplash.com/photo-1519751138087-5bf79df62d5b?q=80&w=2070&auto=format&fit=crop');
        }
    </style>
</head>
<body class="overflow-x-hidden">

    <!-- Page Transition Overlay -->
    <div id="page-transition-overlay">
        <div id="transition-logo">A SQUARE</div>
    </div>

    <!-- Header Section -->
    <header x-data="header()" x-init="init()" class="bg-brand-blue text-white fixed top-0 left-0 right-0 z-50 shadow-lg">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold text-brand-gold tracking-wider page-link">A SQUARE</a>
            
            <!-- Desktop Menu -->
            <div class="hidden lg:flex items-center space-x-6">
                <a href="index.html" class="text-brand-gold border-b-2 border-brand-gold page-link">Home</a>
                <a href="directory.html" class="hover:text-brand-gold transition duration-300 page-link">Store Directory</a>
                <a href="events.html" class="hover:text-brand-gold transition duration-300 page-link">Events</a>
                <a href="gallery.html" class="hover:text-brand-gold transition duration-300 page-link">Gallery</a>
                <a href="map.html" class="hover:text-brand-gold transition duration-300 page-link">Mall Map</a>
                <a href="leasing.html" class="hover:text-brand-gold transition duration-300 page-link">Leasing</a>
                <a href="contact.html" class="bg-brand-gold text-brand-blue px-4 py-2 rounded-md font-semibold hover:bg-yellow-400 transition duration-300 page-link">Contact Us</a>
                 <!-- Dark Mode Toggle -->
                <button @click="toggleDarkMode" class="ml-4 text-2xl focus:outline-none hover:text-brand-gold" aria-label="Toggle Dark Mode" title="Toggle Dark Mode">
                    <i :class="isDarkMode ? 'fas fa-sun' : 'fas fa-moon'"></i>
                </button>
            </div>

            <!-- Mobile Menu Button -->
            <div class="lg:hidden flex items-center">
                 <button @click="toggleDarkMode" class="mr-4 text-xl focus:outline-none hover:text-brand-gold" aria-label="Toggle Dark Mode" title="Toggle Dark Mode">
                    <i :class="isDarkMode ? 'fas fa-sun' : 'fas fa-moon'"></i>
                </button>
                <button @click="mobileMenuOpen = !mobileMenuOpen" class="focus:outline-none" aria-label="Toggle Mobile Menu" title="Toggle Mobile Menu">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </nav>

        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" x-transition @click.away="mobileMenuOpen = false" class="lg:hidden absolute top-full left-0 right-0 bg-brand-blue shadow-xl">
             <div class="flex flex-col items-center space-y-4 py-8">
                <a href="index.html" class="text-brand-gold page-link">Home</a>
                <a href="directory.html" class="hover:text-brand-gold page-link">Store Directory</a>
                <a href="events.html" class="hover:text-brand-gold page-link">Events</a>
                <a href="gallery.html" class="hover:text-brand-gold page-link">Gallery</a>
                <a href="map.html" class="hover:text-brand-gold page-link">Mall Map</a>
                <a href="leasing.html" class="hover:text-brand-gold page-link">Leasing</a>
                <a href="contact.html" class="bg-brand-gold text-brand-blue px-6 py-3 rounded-md font-semibold page-link">Contact Us</a>
                <div class="flex justify-center space-x-4 mt-2 py-3 border-t border-gray-700">
                    <a href="#" class="text-xl hover:text-brand-gold transition-colors" aria-label="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="text-xl hover:text-brand-gold transition-colors" aria-label="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="text-xl hover:text-brand-gold transition-colors" aria-label="Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="text-xl hover:text-brand-gold transition-colors" aria-label="TikTok">
                        <i class="fab fa-tiktok"></i>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main> <!-- Content starts visible -->
        <!-- Hero Section -->
        <section id="hero" class="relative h-screen flex items-center justify-center text-white hero-overlay overflow-hidden">
            <!-- Video Background -->
            <video autoplay muted loop class="hero-video">
                <source src="assets/videos/background_globe.mp4" type="video/mp4">
                <!-- Fallback for browsers that don't support the video element -->
            </video>
            
            <!-- Fallback image if video doesn't load -->
            <div class="hero-bg"></div>
            
            <!-- Video overlay for better text readability -->
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/30 to-black/40 z-5"></div>
            
            <!-- Floating particles animation -->
            <div class="absolute inset-0 overflow-hidden pointer-events-none">
                <div class="floating-particles"></div>
            </div>
            
            <!-- Top Hero Info Bar -->
            <div class="absolute top-24 left-0 right-0 z-10">
                <div class="container mx-auto px-6">
                    <div class="flex flex-wrap justify-between items-center text-sm">
                        <!-- Live Visitor Count -->
                        <div class="bg-black/30 backdrop-blur-sm px-4 py-2 rounded-full border border-brand-gold/30">
                            <i class="fas fa-users text-brand-gold mr-2"></i>
                            <span id="visitor-count">2,847</span> visitors today
                        </div>
                        
                        <!-- Weather Widget -->
                        <div class="bg-black/30 backdrop-blur-sm px-4 py-2 rounded-full border border-brand-gold/30">
                            <i class="fas fa-sun text-brand-gold mr-2"></i>
                            <span id="weather-temp">24°C</span> in Nairobi
                        </div>
                        
                        <!-- Live Time -->
                        <div class="bg-black/30 backdrop-blur-sm px-4 py-2 rounded-full border border-brand-gold/30">
                            <i class="fas fa-clock text-brand-gold mr-2"></i>
                            <span id="live-time"></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="hero-content text-center px-4 relative z-10">
                <!-- Main Hero Content -->
                <h1 class="hero-title text-5xl md:text-7xl lg:text-8xl font-extrabold tracking-tight uppercase">
                    <span class="hero-line-1 block">Where Legacy Meets</span>
                    <span class="hero-line-2 block text-brand-gold">Lifestyle</span>
                </h1>
                
                <!-- Typewriter Effect Subtitle -->
                <div class="mt-6 h-16">
                    <p class="hero-subtitle text-lg md:text-2xl max-w-3xl mx-auto leading-relaxed">
                        <span id="typewriter-text"></span>
                        <span class="typewriter-cursor">|</span>
                    </p>
                </div>
                
                <!-- Hero Stats -->
                <div class="flex flex-wrap justify-center gap-8 mt-8 mb-8">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-brand-gold counter" data-target="150">0</div>
                        <div class="text-sm uppercase tracking-wide">Premium Stores</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-brand-gold counter" data-target="25">0</div>
                        <div class="text-sm uppercase tracking-wide">Dining Options</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-brand-gold counter" data-target="5000">0</div>
                        <div class="text-sm uppercase tracking-wide">Parking Spaces</div>
                    </div>
                </div>
                
                <!-- Interactive CTA Buttons -->
                <div class="flex flex-wrap gap-4 justify-center mt-10">
                    <a href="#journey" class="hero-cta inline-block bg-brand-gold text-brand-blue px-8 py-4 rounded-md text-lg font-bold uppercase hover:bg-yellow-400 transform hover:scale-105 transition-all duration-300">
                        <i class="fas fa-compass mr-2"></i>Discover Our Story
                    </a>
                    <button onclick="requestVirtualTour()" class="hero-cta inline-block bg-transparent border-2 border-brand-gold text-brand-gold px-8 py-4 rounded-md text-lg font-bold uppercase hover:bg-brand-gold hover:text-brand-blue transform hover:scale-105 transition-all duration-300">
                        <i class="fas fa-vr-cardboard mr-2"></i>Virtual Tour
                    </button>
                </div>
                
                <!-- Social Proof Ticker -->
                <div class="mt-12 bg-black/20 backdrop-blur-sm rounded-full px-6 py-3 inline-block">
                    <div class="flex items-center space-x-4 text-sm">
                        <i class="fas fa-star text-brand-gold"></i>
                        <span id="social-ticker">Recently visited by Celebrity Chef Jamie Oliver!</span>
                    </div>
                </div>
            </div>
            
            <!-- Scroll Indicator -->
            <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
                <div class="w-6 h-10 border-2 border-brand-gold rounded-full flex justify-center">
                    <div class="w-1 h-3 bg-brand-gold rounded-full mt-2 animate-pulse"></div>
                </div>
                <p class="text-xs mt-2 uppercase tracking-wide">Scroll to Explore</p>
            </div>
        </section>

        <!-- The A Square Journey (Roadmap) Section -->
        <section id="journey" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 animate-on-scroll">
                    <h2 class="text-4xl lg:text-5xl font-bold text-brand-blue">The A Square Journey</h2>
                    <p class="text-lg text-gray-600 mt-4 max-w-2xl mx-auto">From a visionary blueprint to a living landmark. This is our story of ambition, precision, and passion.</p>
                </div>
                <div class="max-w-3xl mx-auto">
                    <!-- Timeline content here -->
                    <div class="timeline-item">
                        <div class="timeline-dot animate-on-scroll"></div>
                        <div class="animate-on-scroll">
                            <p class="text-brand-gold font-semibold">Phase 1: The Vision (2023)</p>
                            <h3 class="text-2xl font-bold text-brand-blue mt-1">Conceptualization</h3>
                            <p class="text-gray-700 mt-2">The genesis of A Square: a bold idea to redefine the retail landscape of East Africa by creating an integrated environment that harmonizes commerce, culture, and community.</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot animate-on-scroll"></div>
                        <div class="animate-on-scroll">
                            <p class="text-brand-gold font-semibold">Phase 2: The Foundation (2024)</p>
                            <h3 class="text-2xl font-bold text-brand-blue mt-1">Groundbreaking & Construction</h3>
                            <p class="text-gray-700 mt-2">With world-renowned architects and engineers, we broke ground. Every beam laid and pane of glass installed was a step towards realizing a new icon on Nairobi's skyline.</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot animate-on-scroll"></div>
                        <div class="animate-on-scroll">
                            <p class="text-brand-gold font-semibold">Phase 3: The Curation (2025)</p>
                            <h3 class="text-2xl font-bold text-brand-blue mt-1">Tenant & Experience Partnership</h3>
                            <p class="text-gray-700 mt-2">We meticulously handpicked a collection of premier local and international brands, culinary artists, and entertainment partners to create a truly world-class tenant mix.</p>
                        </div>
                    </div>
                    <div class="timeline-item !border-l-0">
                         <div class="timeline-dot animate-on-scroll"></div>
                        <div class="animate-on-scroll">
                            <p class="text-brand-gold font-semibold">Phase 4: The Future (2026 & Beyond)</p>
                            <h3 class="text-2xl font-bold text-brand-blue mt-1">Innovation & Expansion</h3>
                            <p class="text-gray-700 mt-2">Our journey does not end at opening. We are committed to continuous innovation, with plans for digital integration, exclusive loyalty programs, and Phase II expansion.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Event Countdown Section -->
        <section id="countdown" class="py-20 bg-cover bg-fixed bg-center countdown-bg">
             <div class="absolute inset-0 bg-black/60"></div>
            <div class="container mx-auto px-6 relative z-10">
                <div class="text-center text-white mb-12 animate-on-scroll">
                    <h2 class="text-4xl lg:text-5xl font-extrabold text-brand-gold uppercase tracking-wider">The Grand Unveiling</h2>
                    <p class="text-xl text-gray-200 mt-4 max-w-2xl mx-auto">Prepare to be captivated. The moment we open our doors to the world is fast approaching. Join us for a celebration like no other.</p>
                </div>
                <div id="countdown-timer" class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 max-w-4xl mx-auto text-white">
                    <!-- Countdown boxes -->
                    <div class="text-center p-6 rounded-lg shadow-2xl countdown-box"><div id="days" class="font-bold countdown-number">00</div><div class="text-lg uppercase text-gray-300">Days</div></div>
                    <div class="text-center p-6 rounded-lg shadow-2xl countdown-box"><div id="hours" class="font-bold countdown-number">00</div><div class="text-lg uppercase text-gray-300">Hours</div></div>
                    <div class="text-center p-6 rounded-lg shadow-2xl countdown-box"><div id="minutes" class="font-bold countdown-number">00</div><div class="text-lg uppercase text-gray-300">Minutes</div></div>
                    <div class="text-center p-6 rounded-lg shadow-2xl countdown-box"><div id="seconds" class="font-bold countdown-number">00</div><div class="text-lg uppercase text-gray-300">Seconds</div></div>
                </div>
            </div>
        </section>

        <!-- Featured Stores Section -->
        <section id="featured-stores" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 animate-on-scroll">
                    <h2 class="text-4xl lg:text-5xl font-bold text-brand-blue">A Constellation of Brands</h2>
                    <p class="text-lg text-gray-600 mt-4 max-w-2xl mx-auto">Explore a curated collection of flagship stores and unique boutiques, each offering an exceptional standard of quality and service.</p>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Store Cards -->
                    <div class="store-card bg-gray-50 rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300"><img src="https://placehold.co/400x300/e2e8f0/333?text=Fashion+Brand" alt="Fashion Brand" class="w-full h-48 object-cover"><div class="p-6"><h3 class="text-xl font-bold text-brand-blue">Luxe Apparel</h3><p class="text-gray-600 mt-2">The pinnacle of haute couture and ready-to-wear fashion.</p><a href="#" class="text-brand-gold font-semibold mt-4 inline-block">Explore Collection &rarr;</a></div></div>
                    <div class="store-card bg-gray-50 rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300"><img src="https://placehold.co/400x300/e2e8f0/333?text=Electronics" alt="Electronics Store" class="w-full h-48 object-cover"><div class="p-6"><h3 class="text-xl font-bold text-brand-blue">Gadget Hub</h3><p class="text-gray-600 mt-2">Experience tomorrow's technology, today.</p><a href="#" class="text-brand-gold font-semibold mt-4 inline-block">Discover Innovation &rarr;</a></div></div>
                    <div class="store-card bg-gray-50 rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300"><img src="https://placehold.co/400x300/e2e8f0/333?text=Dining" alt="Restaurant" class="w-full h-48 object-cover"><div class="p-6"><h3 class="text-xl font-bold text-brand-blue">The Golden Fork</h3><p class="text-gray-600 mt-2">A Michelin-starred journey for the senses.</p><a href="#" class="text-brand-gold font-semibold mt-4 inline-block">Reserve a Table &rarr;</a></div></div>
                    <div class="store-card bg-gray-50 rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300"><img src="https://placehold.co/400x300/e2e8f0/333?text=Beauty" alt="Beauty Shop" class="w-full h-48 object-cover"><div class="p-6"><h3 class="text-xl font-bold text-brand-blue">Serene Cosmetics</h3><p class="text-gray-600 mt-2">Artisanal skincare and bespoke fragrances.</p><a href="#" class="text-brand-gold font-semibold mt-4 inline-block">Find Your Glow &rarr;</a></div></div>
                </div>
                <div class="text-center mt-16 animate-on-scroll"><a href="directory.html" class="bg-brand-blue text-white px-8 py-3 rounded-md font-semibold hover:bg-blue-900 transition duration-300 text-lg page-link">Uncover All Treasures</a></div>
            </div>
        </section>

        <!-- NEW: Interactive Map Preview Section -->
        <section id="map-teaser" class="py-24 bg-gray-100">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 animate-on-scroll">
                    <h2 class="text-4xl lg:text-5xl font-bold text-brand-blue">Navigate Your Experience</h2>
                    <p class="text-lg text-gray-600 mt-4 max-w-2xl mx-auto">Our state-of-the-art digital map provides an intuitive guide to A Square. Find your favourite stores, services, and dining spots with effortless ease.</p>
                </div>
                <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-xl p-4 sm:p-8 animate-on-scroll">
                    <svg id="interactive-map-svg" viewBox="0 0 800 500" class="w-full h-auto">
                        <defs>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="3.5" result="coloredBlur"></feGaussianBlur>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"></feMergeNode>
                                    <feMergeNode in="SourceGraphic"></feMergeNode>
                                </feMerge>
                            </filter>
                        </defs>
                        <!-- Simplified mall layout paths -->
                        <path d="M50 50 H 300 V 200 H 50 Z" class="fill-gray-200 dark:fill-gray-700" />
                        <path d="M320 50 H 570 V 200 H 320 Z" class="fill-gray-200 dark:fill-gray-700" />
                        <path d="M590 50 H 750 V 450 H 590 Z" class="fill-gray-200 dark:fill-gray-700" />
                        <path d="M50 220 H 570 V 450 H 50 Z" class="fill-gray-200 dark:fill-gray-700" />
                        <!-- Animated pulses -->
                        <circle cx="175" cy="125" r="15" class="fill-brand-gold opacity-50"><animate attributeName="r" values="10;20;10" dur="2s" repeatCount="indefinite" /></circle>
                        <circle cx="445" cy="125" r="10" class="fill-brand-gold" filter="url(#glow)"/>
                        <circle cx="670" cy="250" r="15" class="fill-brand-gold opacity-50"><animate attributeName="r" values="10;20;10" dur="2s" begin="0.5s" repeatCount="indefinite" /></circle>
                        <circle cx="310" cy="335" r="10" class="fill-brand-gold" filter="url(#glow)"/>
                    </svg>
                </div>
                <div class="text-center mt-12 animate-on-scroll">
                    <a href="map.html" class="bg-brand-gold text-brand-blue px-8 py-3 rounded-md font-semibold hover:bg-yellow-400 transition duration-300 text-lg page-link">Launch Interactive Map</a>
                </div>
            </div>
        </section>

        <!-- NEW: Testimonials Section -->
        <section id="testimonials" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 animate-on-scroll">
                    <h2 class="text-4xl lg:text-5xl font-bold text-brand-blue">Voices of A Square</h2>
                    <p class="text-lg text-gray-600 mt-4 max-w-2xl mx-auto">Hear from the shoppers, diners, and partners who make our community exceptional.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="testimonial-card p-8 bg-gray-50 rounded-lg shadow-lg">
                        <i class="fas fa-quote-left text-3xl text-brand-gold"></i>
                        <p class="text-gray-700 mt-4 text-lg italic">An unparalleled shopping experience. The architecture is breathtaking, and the selection of stores is simply world-class. It's my new favorite place in Nairobi.</p>
                        <p class="font-bold text-brand-blue mt-6">- Grace M.</p>
                        <p class="text-sm text-gray-500">Avid Shopper</p>
                    </div>
                    <div class="testimonial-card p-8 bg-gray-50 rounded-lg shadow-lg">
                        <i class="fas fa-quote-left text-3xl text-brand-gold"></i>
                        <p class="text-gray-700 mt-4 text-lg italic">As a tenant, the support from mall management has been phenomenal. A Square isn't just a location; it's a partner in our success. We've seen incredible foot traffic.</p>
                        <p class="font-bold text-brand-blue mt-6">- David K.</p>
                        <p class="text-sm text-gray-500">Founder, Luxe Apparel</p>
                    </div>
                    <div class="testimonial-card p-8 bg-gray-50 rounded-lg shadow-lg">
                        <i class="fas fa-quote-left text-3xl text-brand-gold"></i>
                        <p class="text-gray-700 mt-4 text-lg italic">Dining at The Golden Fork was a culinary event. The ambiance of the mall complements the fine dining perfectly. A truly five-star evening from start to finish.</p>
                        <p class="font-bold text-brand-blue mt-6">- Fatma A.</p>
                        <p class="text-sm text-gray-500">Food Critic</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Luxury Services Section -->
        <section id="services" class="py-24 bg-gray-100">
             <div class="container mx-auto px-6">
                <div class="text-center mb-16 animate-on-scroll">
                    <h2 class="text-4xl lg:text-5xl font-bold text-brand-blue">An Unrivaled Experience</h2>
                    <p class="text-lg text-gray-600 mt-4 max-w-2xl mx-auto">We believe luxury is personal. Our bespoke services are designed to anticipate your every need, ensuring a seamless and memorable visit.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <!-- Service Cards -->
                    <div class="service-card p-8 bg-white rounded-lg shadow-lg animate-on-scroll"><i class="fas fa-car text-4xl text-brand-gold"></i><h3 class="text-2xl font-bold text-brand-blue mt-4">Valet Parking</h3><p class="mt-2 text-gray-600">Arrive in style and comfort with our premium, hands-free valet service.</p></div>
                    <div class="service-card p-8 bg-white rounded-lg shadow-lg animate-on-scroll"><i class="fas fa-shopping-bag text-4xl text-brand-gold"></i><h3 class="text-2xl font-bold text-brand-blue mt-4">Personal Shopper</h3><p class="mt-2 text-gray-600">Let our expert stylists curate a wardrobe that is uniquely you.</p></div>
                    <div class="service-card p-8 bg-white rounded-lg shadow-lg animate-on-scroll"><i class="fas fa-concierge-bell text-4xl text-brand-gold"></i><h3 class="text-2xl font-bold text-brand-blue mt-4">VIP Lounge</h3><p class="mt-2 text-gray-600">An exclusive oasis of tranquility for our most esteemed guests.</p></div>
                </div>
            </div>
        </section>

        <!-- Social Media Feed Section -->
        <section id="social" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 animate-on-scroll">
                    <h2 class="text-4xl lg:text-5xl font-bold text-brand-blue">The Digital Pulse</h2>
                    <p class="text-lg text-gray-600 mt-4">Join our vibrant community and be the first to witness the magic as it unfolds. Follow @ASquareMall.</p>
                </div>
                 <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Social media cards -->
                    <div class="social-feed-col animate-on-scroll"><h3 class="text-3xl font-bold text-center mb-6"><i class="fab fa-instagram mr-2 text-brand-gold"></i>Instagram</h3><div class="grid grid-cols-2 gap-4"><img src="https://placehold.co/200x200/e0e0e0/333?text=Behind+the+Scenes" alt="Instagram Post" class="rounded-lg w-full h-auto shadow-md transition-transform hover:scale-105"><img src="https://placehold.co/200x200/d0d0d0/333?text=Architecture" alt="Instagram Post" class="rounded-lg w-full h-auto shadow-md transition-transform hover:scale-105"><img src="https://placehold.co/200x200/c0c0c0/333?text=First+Look" alt="Instagram Post" class="rounded-lg w-full h-auto shadow-md transition-transform hover:scale-105"><img src="https://placehold.co/200x200/b0b0b0/333?text=Team" alt="Instagram Post" class="rounded-lg w-full h-auto shadow-md transition-transform hover:scale-105"></div></div>
                     <div class="social-feed-col animate-on-scroll"><h3 class="text-3xl font-bold text-center mb-6"><i class="fab fa-facebook mr-2 text-brand-gold"></i>Facebook</h3><div class="bg-gray-100 p-6 rounded-lg shadow-md"><p class="font-semibold text-brand-blue text-lg">A Square Mall</p><p class="text-sm text-gray-500">2 hours ago</p><p class="mt-3 text-lg">The countdown has officially begun! We are polishing every detail to bring you an experience beyond imagination. Are you ready for the new era of luxury in Nairobi? #ASquareUnveiling #LuxuryRedefined</p></div></div>
                    <div class="social-feed-col animate-on-scroll"><h3 class="text-3xl font-bold text-center mb-6"><i class="fab fa-tiktok mr-2 text-brand-gold"></i>TikTok</h3><div class="grid grid-cols-2 gap-4"><div class="relative rounded-lg overflow-hidden shadow-md"><video class="w-full mall-video" loop muted poster="https://placehold.co/200x355/909090/FFF?text=Tour+Preview"><source src="#" type="video/mp4"></video><i class="fas fa-play absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white text-4xl opacity-75"></i></div><div class="relative rounded-lg overflow-hidden shadow-md"><video class="w-full mall-video" loop muted poster="https://placehold.co/200x355/808080/FFF?text=Designer+Interview"><source src="#" type="video/mp4"></video><i class="fas fa-play absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white text-4xl opacity-75"></i></div></div></div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-brand-blue text-white pt-20 pb-10">
         <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-10">
                <!-- Footer content -->
                <div><h3 class="text-2xl font-bold text-brand-gold mb-4">A SQUARE</h3><p class="text-gray-300 leading-relaxed">The heart of Nairobi's urban lifestyle. An unparalleled mix of retail, dining, and entertainment, housed within an architectural masterpiece.</p></div>
                <div><h3 class="text-xl font-bold text-brand-gold mb-4">Explore</h3><ul class="space-y-3"><li><a href="directory.html" class="hover:text-brand-gold transition-colors page-link">Stores & Brands</a></li><li><a href="events.html" class="hover:text-brand-gold transition-colors page-link">Events & Promotions</a></li><li><a href="#services" class="hover:text-brand-gold transition-colors">Luxury Services</a></li><li><a href="leasing.html" class="hover:text-brand-gold transition-colors page-link">Leasing Opportunities</a></li><li><a href="contact.html" class="hover:text-brand-gold transition-colors page-link">Contact & Directions</a></li></ul></div>
                <div><h3 class="text-xl font-bold text-brand-gold mb-4">Visit Us</h3><p class="text-gray-300">123 Uhuru Highway, Nairobi, Kenya</p><p class="text-gray-300 mt-3">Email: info@asquaremall.co.ke</p><p class="text-gray-300 mt-3">Phone: +254 700 123 456</p></div>
                <div><h3 class="text-xl font-bold text-brand-gold mb-4">Join Our Community</h3><p class="text-gray-300 mb-4">Subscribe for exclusive updates and invitations.</p><div class="flex"><input type="email" placeholder="Your Email Address" class="w-full bg-gray-800 text-white px-4 py-2 rounded-l-md focus:outline-none focus:ring-2 focus:ring-brand-gold"><button class="bg-brand-gold text-brand-blue px-4 py-2 rounded-r-md font-semibold hover:bg-yellow-400" aria-label="Subscribe" title="Subscribe"><i class="fas fa-paper-plane"></i></button></div><div class="flex space-x-5 mt-6"><a href="#" class="text-2xl hover:text-brand-gold transition-colors" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a><a href="#" class="text-2xl hover:text-brand-gold transition-colors" aria-label="Instagram"><i class="fab fa-instagram"></i></a><a href="#" class="text-2xl hover:text-brand-gold transition-colors" aria-label="Twitter"><i class="fab fa-twitter"></i></a><a href="#" class="text-2xl hover:text-brand-gold transition-colors" aria-label="TikTok"><i class="fab fa-tiktok"></i></a></div></div>
            </div>
            <div class="border-t border-gray-700 dark:border-gray-600 pt-8 text-center text-gray-400 text-sm">
                <p>&copy; <span id="year"></span> A Square Mall. All Rights Reserved. Conceived and coded with genius.</p>
            </div>
        </div>
    </footer>


    <script>
    // Alpine.js component for header and dark mode logic
    // Moved to global scope to be accessible by Alpine
    function header() {
        return {
            mobileMenuOpen: false,
            isDarkMode: false,
            init() {
                // Check for saved dark mode preference
                if (localStorage.getItem('darkMode') === 'true') {
                    this.isDarkMode = true;
                    document.documentElement.classList.add('dark');
                }
            },
            toggleDarkMode() {
                this.isDarkMode = !this.isDarkMode;
                localStorage.setItem('darkMode', this.isDarkMode);
                document.documentElement.classList.toggle('dark');
            }
        }
    }
    
    document.addEventListener('DOMContentLoaded', function() {
        
        // --- PAGE TRANSITION LOGIC ---
        const pageTransitionOverlay = document.getElementById('page-transition-overlay');
        const transitionLogo = document.getElementById('transition-logo');
        const mainContent = document.querySelector('main');

        // Entry animation
        function pageEntry() {
            const tl = gsap.timeline();
            tl.to(transitionLogo, {
                duration: 0.5,
                opacity: 0,
                y: -30,
                ease: 'power2.in'
            }).to(pageTransitionOverlay, {
                duration: 0.8,
                y: '-100%',
                ease: 'power3.inOut'
            }, "-=0.2").add(runPageAnimations, "-=0.7");
        }

        // Exit animation
        function pageExit(url) {
            gsap.to(pageTransitionOverlay, {
                duration: 0.8,
                y: '0%',
                ease: 'power3.inOut',
                onStart: () => {
                    gsap.fromTo(transitionLogo, { y: 30, opacity: 0 }, { duration: 0.5, y: 0, opacity: 1, delay: 0.3 });
                },
                onComplete: () => {
                    window.location.href = url;
                }
            });
        }

        // Attach exit animation to all internal links
        document.querySelectorAll('.page-link').forEach(link => {
            link.addEventListener('click', function(e) {
                const destination = this.href;
                // Prevents exit animation on same-page hash links
                if (destination.split('#')[0] === window.location.href.split('#')[0] && destination.includes('#')) {
                    return; 
                }
                if (destination === window.location.href) {
                   e.preventDefault();
                   return;
                }
                e.preventDefault();
                pageExit(destination);
            });
        });

        // Start entry animation once content is loaded
        pageEntry();

        function runPageAnimations() {
            // --- 0. HERO VIDEO SETUP ---
            const heroVideo = document.querySelector('.hero-video');
            const heroFallback = document.querySelector('.hero-bg');
            
            if (heroVideo) {
                // Ensure video loads and plays properly
                heroVideo.load();
                
                // Handle video load error - fallback to image
                heroVideo.addEventListener('error', () => {
                    console.log('Video failed to load, using fallback image');
                    heroVideo.style.display = 'none';
                    if (heroFallback) {
                        heroFallback.style.display = 'block';
                    }
                });
                
                // Ensure video plays (some browsers require user interaction)
                heroVideo.addEventListener('loadeddata', () => {
                    heroVideo.play().catch(e => {
                        console.log('Video autoplay prevented:', e);
                        // Video autoplay was prevented, but that's okay
                    });
                });
                
                // Loop the video seamlessly
                heroVideo.addEventListener('ended', () => {
                    heroVideo.currentTime = 0;
                    heroVideo.play();
                });
            }
            
            // --- 1. SET CURRENT YEAR IN FOOTER ---
            document.getElementById('year').textContent = new Date().getFullYear();
            
            // --- 2. LIVE TIME UPDATE ---
            function updateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('en-US', { 
                    hour12: false, 
                    hour: '2-digit', 
                    minute: '2-digit',
                    timeZone: 'Africa/Nairobi'
                });
                document.getElementById('live-time').textContent = timeString;
            }
            updateTime();
            setInterval(updateTime, 1000);
            
            // --- 3. WEATHER API (Using OpenWeatherMap free tier) ---
            async function fetchWeather() {
                try {
                    // Using a free weather API - you can replace with your own API key
                    const response = await fetch('https://api.openweathermap.org/data/2.5/weather?q=Nairobi&appid=demo&units=metric');
                    if (response.ok) {
                        const data = await response.json();
                        document.getElementById('weather-temp').textContent = `${Math.round(data.main.temp)}°C`;
                    } else {
                        // Fallback to simulated weather
                        simulateWeather();
                    }
                } catch (error) {
                    // Fallback to simulated weather
                    simulateWeather();
                }
            }
            
            function simulateWeather() {
                const temps = [22, 24, 26, 28, 25, 23];
                const temp = temps[Math.floor(Math.random() * temps.length)];
                document.getElementById('weather-temp').textContent = `${temp}°C`;
            }
            
            fetchWeather();
            
            // --- 4. VISITOR COUNTER SIMULATION ---
            function updateVisitorCount() {
                const baseCount = 2800;
                const randomIncrement = Math.floor(Math.random() * 100);
                const currentCount = baseCount + randomIncrement;
                document.getElementById('visitor-count').textContent = currentCount.toLocaleString();
            }
            updateVisitorCount();
            setInterval(updateVisitorCount, 30000); // Update every 30 seconds
            
            // --- 5. TYPEWRITER EFFECT ---
            const typewriterTexts = [
                "A Square is more than a destination; it is the definitive statement of urban sophistication.",
                "An architectural marvel in the heart of Kenya, curated for the discerning individual.",
                "Where world-class brands meet local craftsmanship in perfect harmony.",
                "Experience the future of retail in an environment designed for luxury."
            ];
            
            let textIndex = 0;
            let charIndex = 0;
            let isDeleting = false;
            
            function typeWriter() {
                const currentText = typewriterTexts[textIndex];
                const typewriterElement = document.getElementById('typewriter-text');
                
                if (isDeleting) {
                    typewriterElement.textContent = currentText.substring(0, charIndex - 1);
                    charIndex--;
                } else {
                    typewriterElement.textContent = currentText.substring(0, charIndex + 1);
                    charIndex++;
                }
                
                if (!isDeleting && charIndex === currentText.length) {
                    setTimeout(() => { isDeleting = true; }, 2000);
                } else if (isDeleting && charIndex === 0) {
                    isDeleting = false;
                    textIndex = (textIndex + 1) % typewriterTexts.length;
                }
                
                const typingSpeed = isDeleting ? 50 : 100;
                setTimeout(typeWriter, typingSpeed);
            }
            
            setTimeout(typeWriter, 1000);
            
            // --- 6. COUNTER ANIMATIONS ---
            function animateCounters() {
                document.querySelectorAll('.counter').forEach(counter => {
                    const target = parseInt(counter.getAttribute('data-target'));
                    const increment = target / 100;
                    let current = 0;
                    
                    const updateCounter = () => {
                        if (current < target) {
                            current += increment;
                            counter.textContent = Math.floor(current).toLocaleString();
                            setTimeout(updateCounter, 30);
                        } else {
                            counter.textContent = target.toLocaleString();
                        }
                    };
                    
                    updateCounter();
                });
            }
            
            // --- 7. SOCIAL PROOF TICKER ---
            const socialMessages = [
                "Recently visited by Celebrity Chef Jamie Oliver!",
                "Featured in Architectural Digest as 'Mall of the Future'",
                "Preferred shopping destination of Kenya's elite",
                "Winner of East Africa's Best Retail Experience 2025",
                "Over 1 million satisfied visitors since opening"
            ];
            
            let messageIndex = 0;
            function updateSocialTicker() {
                document.getElementById('social-ticker').textContent = socialMessages[messageIndex];
                messageIndex = (messageIndex + 1) % socialMessages.length;
            }
            
            setInterval(updateSocialTicker, 5000);

            // --- 8. COUNTDOWN TIMER LOGIC ---
            const countdownDate = new Date("Dec 31, 2025 00:00:00").getTime();
            const countdownTimer = document.getElementById('countdown-timer');
            if(countdownTimer) {
                // Correctly passing the function to setInterval
                const x = setInterval(function() {
                    const now = new Date().getTime();
                    const distance = countdownDate - now;

                    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    updateCountdown('days', days);
                    updateCountdown('hours', hours);
                    updateCountdown('minutes', minutes);
                    updateCountdown('seconds', seconds);

                    if (distance < 0) {
                        clearInterval(x);
                        countdownTimer.innerHTML = "<div class='col-span-full text-center text-3xl font-bold text-brand-gold'>THE DOORS ARE OPEN!</div>";
                    }
                }, 1000);
            }

            // --- 3. GSAP ANIMATIONS ---
            if (typeof gsap !== 'undefined') {
                gsap.registerPlugin(ScrollTrigger);

                // --- HERO SECTION ENTRANCE ---
                const heroLines = document.querySelectorAll('.hero-title span[class*="hero-line-"]');
                heroLines.forEach(line => {
                    const text = line.textContent;
                    line.innerHTML = '';
                    text.split('').forEach(char => {
                        const span = document.createElement('span');
                        span.className = 'hero-title-char';
                        span.innerHTML = char === ' ' ? '&nbsp;' : char;
                        line.appendChild(span);
                    });
                });
                
                const heroTl = gsap.timeline({ defaults: { ease: 'power3.out' } });
                heroTl.from('.hero-video, .hero-bg', { scale: 1.2, opacity: 0, duration: 2 })
                      .from('.hero-title-char', { y: 80, opacity: 0, stagger: 0.03, duration: 1 }, '-=1.2')
                      .from('.hero-subtitle', { y: 40, opacity: 0, duration: 1 }, '-=0.8')
                      .from('.hero-cta', { y: 20, opacity: 0, scale: 0.9, duration: 1, stagger: 0.2 }, '-=0.6')
                      .from('.counter', { scale: 0, opacity: 0, duration: 0.8, stagger: 0.1, onComplete: animateCounters }, '-=0.4');

                // Hero info bar animation
                gsap.from('.absolute.top-24 > div > div > div', {
                    y: -50, opacity: 0, duration: 1, stagger: 0.2, delay: 1.5
                });

                // --- GENERAL ON-SCROLL ANIMATIONS ---
                document.querySelectorAll('.animate-on-scroll').forEach(el => {
                    gsap.from(el, {
                        scrollTrigger: { trigger: el, start: 'top 85%', toggleActions: 'play none none none' },
                        opacity: 0, y: 60, duration: 1, ease: 'power2.out'
                    });
                });

                // --- STAGGERED ANIMATIONS ---
                gsap.from(".store-card", {
                    scrollTrigger: { trigger: "#featured-stores", start: "top 80%" },
                    y: 50, opacity: 0, duration: 0.8, stagger: 0.2
                });
                gsap.from(".service-card", {
                    scrollTrigger: { trigger: "#services", start: "top 80%" },
                    y: 50, opacity: 0, duration: 0.8, stagger: 0.2
                });
                gsap.from(".testimonial-card", {
                    scrollTrigger: { trigger: "#testimonials", start: "top 80%" },
                    y: 50, opacity: 0, duration: 0.8, stagger: 0.15
                });

            } else {
                console.error('GSAP is not loaded.');
            }
        } // end of runPageAnimations

        function updateCountdown(id, value) {
            const el = document.getElementById(id);
            if (el && el.textContent !== String(value).padStart(2, '0')) {
                gsap.to(el, {
                    duration: 0.4, opacity: 0, y: -15,
                    onComplete: () => {
                        el.textContent = String(value).padStart(2, '0');
                        gsap.fromTo(el, { y: 15, opacity: 0 }, { duration: 0.4, y: 0, opacity: 1 });
                    }
                });
            }
        }
        
        // Handle cross-browser video playback
        document.querySelectorAll('.mall-video').forEach(video => {
            // Set playsinline attribute for iOS
            video.setAttribute('playsinline', '');
            
            // For Firefox and other browsers, ensure inline playback
            video.playsInline = true;
            
            // Add click handler for the play button
            const playButton = video.parentElement.querySelector('.fa-play');
            if (playButton) {
                playButton.parentElement.addEventListener('click', () => {
                    if (video.paused) {
                        video.play();
                    } else {
                        video.pause();
                    }
                });
            }
        });
    });
    
    // --- VIRTUAL TOUR FUNCTION ---
    function requestVirtualTour() {
        // Create modal for virtual tour
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4';
        modal.innerHTML = `
            <div class="bg-white rounded-lg max-w-2xl w-full p-8 text-center relative">
                <button onclick="this.parentElement.parentElement.remove()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-2xl"></i>
                </button>
                <div class="mb-6">
                    <i class="fas fa-vr-cardboard text-6xl text-brand-gold mb-4"></i>
                    <h3 class="text-3xl font-bold text-brand-blue mb-2">Virtual Tour Experience</h3>
                    <p class="text-gray-600">Immerse yourself in A Square Mall from the comfort of your home</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <button onclick="launch360Tour()" class="bg-brand-blue text-white px-6 py-3 rounded-lg hover:bg-blue-900 transition">
                        <i class="fas fa-360-degrees mr-2"></i>360° Virtual Walk
                    </button>
                    <button onclick="launchARPreview()" class="bg-brand-gold text-brand-blue px-6 py-3 rounded-lg hover:bg-yellow-400 transition">
                        <i class="fas fa-mobile-alt mr-2"></i>AR Preview
                    </button>
                </div>
                <p class="text-sm text-gray-500">
                    Experience our stunning architecture, premium stores, and world-class amenities through cutting-edge virtual reality technology.
                </p>
            </div>
        `;
        document.body.appendChild(modal);
        
        // Add click outside to close
        modal.addEventListener('click', (e) => {
            if (e.target === modal) modal.remove();
        });
    }
    
    function launch360Tour() {
        // Simulate 360 tour launch
        alert('🎮 Launching 360° Virtual Tour!\n\nFeatures:\n• Full mall walkthrough\n• Interactive store exploration\n• Real-time navigation\n• VR headset compatible\n\n(This would integrate with a 360° tour platform like Matterport or similar)');
    }
    
    function launchARPreview() {
        // Simulate AR preview
        alert('📱 AR Preview Coming Soon!\n\nFeatures:\n• Point your phone camera\n• See mall layout in AR\n• Find stores and amenities\n• Get walking directions\n\n(This would use WebXR or ARCore/ARKit)');
    }
    
    // --- EASTER EGG: KONAMI CODE ---
    let konamiSequence = [];
    const konamiCode = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65]; // ↑↑↓↓←→←→BA
    
    document.addEventListener('keydown', (e) => {
        konamiSequence.push(e.keyCode);
        if (konamiSequence.length > konamiCode.length) {
            konamiSequence.shift();
        }
        
        if (konamiSequence.join(',') === konamiCode.join(',')) {
            // Easter egg activated!
            document.body.style.filter = 'hue-rotate(180deg)';
            const celebration = document.createElement('div');
            celebration.innerHTML = '🎊 LUXURY MODE ACTIVATED! 🎊';
            celebration.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-brand-gold text-brand-blue px-8 py-4 rounded-lg text-2xl font-bold z-50 animate-bounce';
            document.body.appendChild(celebration);
            setTimeout(() => {
                celebration.remove();
                document.body.style.filter = '';
            }, 3000);
            konamiSequence = [];
        }
    });
    </script>
</body>
</html>
